list^assetList^modal^^设备列表^ios-add^assetMgr^0^APP_beforeScript:APP_afterScript:^Asset^MultiAssets^
list^partStructure^modal^^零件结构^ios-add^partManagement^0^APP_beforeScript:APP_afterScript:^Part2Part^Part2PartTree^
list^partList^modal^^零件列表^ios-add^partManagement^1^APP_beforeScript:APP_afterScript:^Part^MultiParts^
list^showMeOrders^modal^and obj.creator = '$user.id' order by obj.id^我的工单^ios-add^woManagement^0^APP_beforeScript:APP_afterScript:^WorkOrder^MultiWO^
list^woList^modal^^工单列表^ios-add^woManagement^1^APP_beforeScript:APP_afterScript:^WorkOrder^MultiWO^
edit^editWO^dialog^^编辑工单^ios-add^WorkOrder-*^""^APP_beforeScript:APP_afterScript:^WorkOrder^SingleWO^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
create^createWO^dialog^^创建工单^ios-add^WorkOrder-*^""^APP_beforeScript:APP_afterScript:^WorkOrder^SingleWO^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
create^createPart^dialog^^创建零件^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^Part^SinglePart^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
edit^editPart^dialog^^编辑零件^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^Part^SinglePart^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
create^createAssetWO^dialog^^创建工单^ios-add^Part-*^""^APP_beforeScript:if (this.selectedObjs && this.selectedObjs.length > 0){\n    return {\n        obj: {\n            woAsset: this.selectedObjs[0].oid\n        }\n    }\n}\nAPP_afterScript:if (this.selectedObjs && this.selectedObjs.length > 0){\n    targetAsset = this.selectedObjs[0];\n    targetAsset.assetWoCount += 1;\n    this.edit(targetAsset, this.className).then(r => {\n        grid = this.getAddinById(\"2FCEBF91B4D94F749619B3A95B43836C\");\n        grid.freshData();\n    })\n}\n^WorkOrder^SingleWO^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
implement^changeVisibility^dialog^clientScript:\naddin = this.getAddinById(\"DD7B0CB78A034F0F8B3F3E96031091EE\");\ndisplay = addin.$el.style.display;\nconsole.log(display);\nif (display == \"\" || display == \"block\") {\n  display = \"none\";\n} else {\n  display = \"block\";\n}\naddin.$el.style.display = display;^显示和隐藏^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^^^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
implement^setDisableScript^dialog^clientScript:\naddin = this.getAddinById(\"7A8FE18FD00046339A27D9152945C04F\");\nconsole.log(addin.args);\naddin.args.readonly = !addin.args.readonly;\naddin.setValue(addin.args.readonly? \"我自闭了\":\"我想开了\");^禁用和开启^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^^^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
implement^editAssetProp^dialog^clientScript:\nconsole.log(`当前表单目标类：${this.className}`);\nconsole.log(this.selectedObjs);\nif (this.selectedObjs){\n    if (this.selectedObjs.length > 0){\n        targetAsset = this.selectedObjs[0];\n        targetAsset.assetState = \"已安装\";\n        targetClass = this.className;\n        this.edit(targetAsset, targetClass).then(result=>{\n            this.msgbox.info(`更改设备${targetAsset.id}的状态`);\n            addins = this.GetTargetAddin();\n            console.log(this);\n            addins.forEach(x => {\n                console.log(x);\n                x.freshData();\n            });\n        })\n    }\n}\n^更改设备状态^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^^^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
implement^updateWorkhour^dialog^clientScript:\ntargetObj = this.obj;\nworkHoursAddin = this.getAddinById(\"F0ED98822FDB4920AD04B41BE387C104\");\ninstallDateAddin = this.getAddinById(\"5B91878878F54ED4BB1BE05AD14BD904\");\ncurrentDate = new Date();\ninstallDate = installDateAddin.getValue();\nconsole.log(installDate);\nif (installDate){\n    workHoursAddin.setValue(parseInt(currentDate - installDate) / 1000 / 3600);\n} else{\n    workHoursAddin.setError(\"安装时间未设置\");\n    installDateAddin.setError(\"安装时间未设置\");\n}\n^更新工作小时^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^^^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
implement^copySelectedObj^dialog^clientScript:\nvar targetClass = this.className;\nvar targetObjs = this.selectedObjs;\nif (targetObjs && targetObjs.length > 0){\n    var newObj = targetObjs[0];\n    newObj.id = \"newObj\";\n    newObj.assetName = `新的${newObj.assetName}`;\n    this.create(newObj, targetClass).then( result =>{\n        console.log(result);\n    })\n}^复制选中设备^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^^^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
implement^deleteAssets^dialog^clientScript:\ntargetClass = this.className;\ntargetObjs = this.selectedObjs;\nif (targetObjs && targetObjs.length > 0){\n    targetObjs.forEach(targetObj =>{\n        this.delete(targetObj, targetClass);\n    });\n}^删除选中设备^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^^^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
implement^selectObjScript^dialog^clientScript:\nconsole.log(this.selectedObjs);\nif (this.selectedObjs){\n    if (this.selectedObjs.length > 0){\n        this.msgbox.info(`hello ${this.selectedObjs[0].id}`);    \n    }\n}\n^多设备选择^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^^^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
implement^singleAssetScript^dialog^clientScript:\nconsole.log(this.obj);\nif (this.obj){\n    this.msgbox.info(`hello ${this.obj.id}`);\n}\n^访问单设备信息^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^^^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
implement^msgDemoScript^dialog^clientScript:\n//debugger;\nconsole.log(this);\nthis.msgbox.info(\"hello world!\");\nthis.msgbox.success(\"success!\");\nthis.msgbox.error(\"error!\");\n^消息演示^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^^^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
visit^assetDetail^dialog^^查看详情^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^Asset^AssetComposition^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
visit^showDashboard^tab^^设备看板^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^Asset^AssetDashboard^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
edit^editAsset^dialog^^编辑设备^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^Asset^SingleAsset^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
create^createAsset^dialog^^创建设备^ios-add^Part-*^""^APP_beforeScript:APP_afterScript:^Asset^SingleAsset^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
create^createChild^dialog^^创建零件^ios-add^Part2Part-*^""^APP_beforeScript:tree = this.GetAddinById(\"BomTree\");\nnodes = tree.getSelected();\nreturn {\n    obj:{\n        relation_leftOid: nodes[0].relation_rightOid\n    }\n}APP_afterScript:^Part2Part^CreateChildPart^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}
create^createRootPart^dialog^^创建产品^ios-add^Part2Part-*^""^APP_beforeScript:APP_afterScript:^Part2Part^SinglePart^{\"needPopTitle\":false,\"popTitleTxt\":\"提示\",\"popTitleFs\":14,\"popTitleColor\":\"#333\",\"tipPlacement\":\"right\",\"popWidth\":400}